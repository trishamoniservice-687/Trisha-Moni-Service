<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
    body { font-family: Arial; max-width: 600px; margin: 40px auto; }
    .box { border: 1px solid #ddd; padding:20px; border-radius:10px; }
    input, textarea { width:100%; padding:10px; margin:10px 0; }
    button { padding:10px 15px; cursor:pointer; }
    #postBox { white-space: pre-wrap; background:#f7f7f7; padding:10px; border-radius:5px; margin-top:10px; }
    img.preview { max-width:100%; margin-top:10px; border-radius:5px; }
</style>
</head>
<body>

<h2>Admin Login</h2>

<div id="loginBox" class="box">
    <input type="password" id="pass" placeholder="Enter Password">
    <button onclick="checkPass()">Login</button>
    <p id="msg"></p>
</div>

<div id="panel" class="box" style="display:none;">
    <h3>Create New Post</h3>
    <input type="text" id="title" placeholder="Title / Caption">

    <!-- ছবি আপলোড ফিল্ড -->
    <input type="file" id="imgFile" accept="image/*">
    <img id="preview" class="preview" src="" style="display:none;">

    <textarea id="text" placeholder="Write something..." rows="5"></textarea>
    <button onclick="generatePost()">Generate Post</button>

    <h4>Copy This Code:</h4>
    <div id="postBox"></div>
</div>

<script>
const ADMIN_PASSWORD = "1";  // এখানে তোমার পাসওয়ার্ড দাও
let imgData = ""; // ছবি Base64 স্টোর করার জন্য

function checkPass() {
    let p = document.getElementById("pass").value;
    if(p === ADMIN_PASSWORD){
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("panel").style.display = "block";
    } else {
        document.getElementById("msg").innerText = "Wrong Password!";
    }
}

// ছবি প্রিভিউ এবং Base64 হিসেবে লোড করা
document.getElementById('imgFile').addEventListener('change', function(){
    const file = this.files[0];
    if(file){
        const reader = new FileReader();
        reader.onload = function(e){
            imgData = e.target.result; // Base64
            const preview = document.getElementById('preview');
            preview.src = imgData;
            preview.style.display = "block";
        }
        reader.readAsDataURL(file);
    }
});

function generatePost() {
    let title = document.getElementById("title").value;
    let text = document.getElementById("text").value;

    let code = `
    <div class="post">
        ${imgData ? `<img src="${imgData}" alt="">` : ''}
        <h3>${title}</h3>
        <p>${text}</p>
    </div>
    `;

    document.getElementById("postBox").innerText = code;
}
</script>

</body>
</html>
